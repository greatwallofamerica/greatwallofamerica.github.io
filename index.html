<!DOCTYPE html>
<HTML style="height:100%;">
<head>
<title>Great Wall of America</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google-site-verification"
	content="ToV2n6FunQ7U7xMDDNX9x6Fv9nknl-lNltESRkPXYEk" />
<link rel="stylesheet" type="text/css"
	href="/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" src="/css/blockrain.css">
<link rel="stylesheet" type="text/css" href="/css/99gains.css">
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0-beta.3/angular.min.js"></script>

<link rel="apple-touch-icon" sizes="57x57"
	href="/images/favicon/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60"
	href="/images/favicon/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72"
	href="/images/favicon/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76"
	href="/images/favicon/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114"
	href="/images/favicon/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120"
	href="/images/favicon/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144"
	href="/images/favicon/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152"
	href="/images/favicon/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180"
	href="/images/favicon/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png"
	href="/images/favicon/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png"
	href="/images/favicon/favicon-194x194.png" sizes="194x194">
<link rel="icon" type="image/png"
	href="/images/favicon/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png"
	href="/images/favicon/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png"
	href="/images/favicon/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/images/favicon/manifest.json">
<link rel="shortcut icon" href="/images/favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="msapplication-TileImage"
	content="/images/favicon/mstile-144x144.png">
<meta name="msapplication-config"
	content="/images/favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
</head>
<body style="height:100%;">
	<div class="navbar navbar-default navbar-static-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse"
					data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">Great Wall of America</a>
			</div>
		</div>
	</div>
	<div class="well page-header">
		<h1>
			Build walls, for charity
			<br>
			<small>
				All advertisement revenue is donated to charities which support US veterans
			</small>
		</h1>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-xs-12 current-score" style="visibility: hidden;">
				Total Bricks Placed: <span id="animate-score" class="score">12</span>
			</div>
		</div>
	</div>
	<div class="visible">
		<br>
	</div>
	<div class="container">
		<div class="row visible-xs">
			<div class="col-xs-12">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">This is an ad</h3>
					</div>
					<div class="panel-body">Ad goes here</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-sm-10">
				<div class="game" style="height:500px; margin: auto;"></div>
			</div>
			<div class="col-sm-2 visible-sm visible-md visible-lg">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">This is an ad</h3>
					</div>
					<div class="panel-body">Ad goes here</div>
				</div>
			</div>
		</div>
		<div class="visible">
			<br>
		</div>
		<!-- <div class="row">
			<div class="col-xs-12 col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">What is this?</h3>
					</div>
					<div class="panel-body">Great Wall of America donates all advertisement proceeds to charities which help United States veterans. Every brick counts.</div>
				</div>
			</div>
			<div class="visible-xs">
				<br>
			</div>
			<div class="col-xs-12 col-sm-3">
				<a href="#" class="thumbnail">
					<img class="img-responsive img-circle"
						src="https://placekitten.com/g/200/200" alt="">
				</a>
			</div>
			<div class="col-xs-12 col-sm-3">
				<a href="#" class="thumbnail">
					<img class="img-responsive img-circle"
						src="https://placekitten.com/g/200/200" alt="">
				</a>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-xs-12 col-sm-6 col-sm-push-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">What we do</h3>
					</div>
					<div class="panel-body">Board of Education, and the inferior education they provided, then and now, helps explain the pervasive achievement gap between today's black and white students. It's not because John McCain doesn't care. To play a role in fulfilling Palestinian aspirations, and to unify the Palestinian people, Hamas must put an end to violence, recognize past agreements, and recognize Israel's right to exist.</div>
				</div>
			</div>
			<div class="col-xs-12 col-sm-3 col-sm-pull-3">
				<a href="#" class="thumbnail">
					<img class="img-responsive img-circle"
						src="https://placekitten.com/g/200/200" alt="">
				</a>
			</div>
			<div class="col-xs-12 col-sm-3 col-sm-pull-9">
				<a href="#" class="thumbnail">
					<img class="img-responsive img-circle"
						src="https://placekitten.com/g/200/200" alt="">
				</a>
			</div>
		</div> -->
	</div>
	<script type="text/javascript"
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script
  src="https://code.jquery.com/ui/1.11.1/jquery-ui.min.js"
  integrity="sha256-4JY5MVcEmAVSuS6q4h9mrwCm6KNx91f3awsSQgwu0qc="
  crossorigin="anonymous"></script>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47022454-8', 'auto');
  ga('send', 'pageview');

	</script>
	<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/js/countUp.min.js"></script>
	<script type="text/javascript" src="/js/blockrain.jquery.src.js"></script>
	<script type="text/javascript" src="/js/blockrain.jquery.libs.js"></script>
	<script type="text/javascript" src="/js/blockrain.jquery.themes.js"></script>
	<script>
		function numberWithCommas(x) {
    	return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
		}

		$('.game').blockrain({
			autoplay: false,
			speed: 20,
			autoplayRestart: true,
			theme: 'custom2',
			playText: '',
		  playButtonText: 'Play',
		  gameOverText: 'Game over',
		  restartButtonText: 'Start again',
		  scoreText: '',
		  autoBlockWidth: true,
		  controls: true,

		  onPlaced: function(){
  			current_score = parseInt($('.current-score .score').text().replace(',', ''))
		  	$('.current-score .score').html(numberWithCommas(current_score + 1));
		  	ga( 'send', 'event', 'tetris', 'block_placed');
		  }
		});
	</script>
	<script>
	velocity = 0;
	refresh_interval_id = -1;

	$.get("https://api.greatwallofamerica.org/count/score?" + Date.now(), function(data, status){
		json = JSON.parse(data);

		$('.current-score').css('visibility', 'visible');

		velocity = json.velocity;

		var numAnim = new CountUp("animate-score", 0, json.score);
		numAnim.start(function() {
			if(velocity > 0) {
				refresh_interval_id = setInterval(updateScore, 1000);
			}
		});
  });

  function updateScore() {
  	clearInterval(refresh_interval_id);

  	current_score = parseInt($('.current-score .score').text().replace(',', ''))

  	var numAnim = new CountUp("animate-score", current_score, current_score + velocity);
		numAnim.start(function() {
			refresh_interval_id = setInterval(updateScore, 1000);
		});
  }
	</script>
</body>
</HTML>